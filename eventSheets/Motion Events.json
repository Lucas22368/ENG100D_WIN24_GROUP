{
	"name": "Motion Events",
	"events": [
		{
			"eventType": "variable",
			"name": "prevCarX",
			"type": "number",
			"initialValue": "0",
			"comment": "",
			"isStatic": false,
			"isConstant": false,
			"sid": 568004105594107
		},
		{
			"eventType": "variable",
			"name": "prevCarY",
			"type": "number",
			"initialValue": "0",
			"comment": "",
			"isStatic": false,
			"isConstant": false,
			"sid": 994446667258730
		},
		{
			"eventType": "include",
			"includeSheet": "Emission Events"
		},
		{
			"eventType": "include",
			"includeSheet": "Timer Events"
		},
		{
			"eventType": "comment",
			"text": "Uses the tween behavior to move the vehicle to the TravelPoint"
		},
		{
			"eventType": "block",
			"conditions": [
				{
					"id": "is-dragging",
					"objectClass": "car",
					"sid": 332179107086720,
					"behaviorType": "DragDrop"
				}
			],
			"actions": [
				{
					"callFunction": "makeCarTrail",
					"sid": 858270084532343
				}
			],
			"sid": 527717921058595,
			"children": [
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "is-overlapping-another-object",
							"objectClass": "car",
							"sid": 744772598862748,
							"parameters": {
								"object": "BikeTrail"
							}
						}
					],
					"actions": [
						{
							"id": "destroy",
							"objectClass": "BikeTrail",
							"sid": 417900725582704
						},
						{
							"callFunction": "backwardBikeMovement",
							"sid": 380137755921443
						}
					],
					"sid": 706663464155125
				}
			]
		},
		{
			"eventType": "block",
			"conditions": [
				{
					"id": "on-drop",
					"objectClass": "car",
					"sid": 796211588881624,
					"behaviorType": "DragDrop"
				}
			],
			"actions": [
				{
					"id": "set-x",
					"objectClass": "car",
					"sid": 457806222056567,
					"parameters": {
						"x": "round(car.X / 32) * 32"
					}
				},
				{
					"id": "set-y",
					"objectClass": "car",
					"sid": 494488562577810,
					"parameters": {
						"y": "round(car.Y / 32) * 32"
					}
				}
			],
			"sid": 504810262136925
		},
		{
			"eventType": "block",
			"conditions": [
				{
					"id": "is-dragging",
					"objectClass": "Bike",
					"sid": 190001166293726,
					"behaviorType": "DragDrop"
				}
			],
			"actions": [
				{
					"callFunction": "makeBikeTrail",
					"sid": 956598365618479
				}
			],
			"sid": 245853916355859,
			"children": [
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "is-overlapping-another-object",
							"objectClass": "Bike",
							"sid": 779913435618111,
							"parameters": {
								"object": "carTrail"
							}
						}
					],
					"actions": [
						{
							"id": "destroy",
							"objectClass": "carTrail",
							"sid": 428765814363241
						},
						{
							"callFunction": "subCarEmission",
							"sid": 404042460188669
						},
						{
							"callFunction": "backwardCarMovement",
							"sid": 671797379607160
						}
					],
					"sid": 545481961146374
				}
			]
		},
		{
			"eventType": "block",
			"conditions": [
				{
					"id": "on-drop",
					"objectClass": "Bike",
					"sid": 359946336175151,
					"behaviorType": "DragDrop"
				}
			],
			"actions": [
				{
					"id": "set-x",
					"objectClass": "Bike",
					"sid": 308366128309002,
					"parameters": {
						"x": "round(Bike.X / 32) * 32"
					}
				},
				{
					"id": "set-y",
					"objectClass": "Bike",
					"sid": 416203484555017,
					"parameters": {
						"y": "round(Bike.Y / 32) * 32"
					}
				}
			],
			"sid": 875770737820000
		},
		{
			"eventType": "comment",
			"text": "barrier collision properties"
		},
		{
			"eventType": "block",
			"conditions": [
				{
					"id": "on-collision-with-another-object",
					"objectClass": "car",
					"sid": 132637268836718,
					"parameters": {
						"object": "RightBorder"
					}
				}
			],
			"actions": [
				{
					"id": "drop",
					"objectClass": "car",
					"sid": 374245467616490,
					"behaviorType": "DragDrop"
				},
				{
					"id": "set-x",
					"objectClass": "car",
					"sid": 978115104238982,
					"parameters": {
						"x": "car.X - 32"
					}
				}
			],
			"sid": 878530678062540,
			"isOrBlock": true
		},
		{
			"eventType": "block",
			"conditions": [
				{
					"id": "on-collision-with-another-object",
					"objectClass": "car",
					"sid": 637674528293814,
					"parameters": {
						"object": "TopBorder"
					}
				}
			],
			"actions": [
				{
					"id": "drop",
					"objectClass": "car",
					"sid": 680288761895546,
					"behaviorType": "DragDrop"
				},
				{
					"id": "set-y",
					"objectClass": "car",
					"sid": 236836495683681,
					"parameters": {
						"y": "car.Y + 32"
					}
				}
			],
			"sid": 609768343305651
		},
		{
			"eventType": "block",
			"conditions": [
				{
					"id": "on-collision-with-another-object",
					"objectClass": "car",
					"sid": 168786491687969,
					"parameters": {
						"object": "RightCorner"
					}
				}
			],
			"actions": [
				{
					"id": "drop",
					"objectClass": "car",
					"sid": 647674974401531,
					"behaviorType": "DragDrop"
				},
				{
					"id": "set-x",
					"objectClass": "car",
					"sid": 694791356682834,
					"parameters": {
						"x": "round((car.X - 17) / 32) * 32"
					}
				},
				{
					"id": "set-y",
					"objectClass": "car",
					"sid": 351271718838433,
					"parameters": {
						"y": "round((car.Y + 17) / 32) * 32"
					}
				}
			],
			"sid": 707556335886957
		},
		{
			"eventType": "block",
			"conditions": [
				{
					"id": "on-collision-with-another-object",
					"objectClass": "car",
					"sid": 413572334114014,
					"parameters": {
						"object": "LeftBorder"
					}
				}
			],
			"actions": [
				{
					"id": "drop",
					"objectClass": "car",
					"sid": 616675694832486,
					"behaviorType": "DragDrop"
				},
				{
					"id": "set-x",
					"objectClass": "car",
					"sid": 431833713340148,
					"parameters": {
						"x": "car.X + 32"
					}
				}
			],
			"sid": 315179619065209
		},
		{
			"eventType": "block",
			"conditions": [
				{
					"id": "on-collision-with-another-object",
					"objectClass": "car",
					"sid": 887535689919491,
					"parameters": {
						"object": "BottomBorder"
					}
				}
			],
			"actions": [
				{
					"id": "drop",
					"objectClass": "car",
					"sid": 198059330026446,
					"behaviorType": "DragDrop"
				},
				{
					"id": "set-y",
					"objectClass": "car",
					"sid": 299869181095770,
					"parameters": {
						"y": "car.Y - 32"
					}
				}
			],
			"sid": 990470539548032
		},
		{
			"eventType": "block",
			"conditions": [
				{
					"id": "on-collision-with-another-object",
					"objectClass": "car",
					"sid": 785436032074835,
					"parameters": {
						"object": "BottomLeft"
					}
				}
			],
			"actions": [
				{
					"id": "drop",
					"objectClass": "car",
					"sid": 206819390659391,
					"behaviorType": "DragDrop"
				},
				{
					"id": "set-position",
					"objectClass": "car",
					"sid": 171037665278587,
					"parameters": {
						"x": "round((car.X + 17) / 32) * 32",
						"y": "round((car.Y - 17) /32) * 32"
					}
				}
			],
			"sid": 541727284026373
		},
		{
			"eventType": "block",
			"conditions": [
				{
					"id": "is-overlapping-another-object",
					"objectClass": "carTrail",
					"sid": 966522016551379,
					"parameters": {
						"object": "TopBorder"
					}
				},
				{
					"id": "is-overlapping-another-object",
					"objectClass": "carTrail",
					"sid": 447928151162148,
					"parameters": {
						"object": "RightCorner"
					}
				},
				{
					"id": "is-overlapping-another-object",
					"objectClass": "carTrail",
					"sid": 300366636346675,
					"parameters": {
						"object": "RightBorder"
					}
				},
				{
					"id": "is-overlapping-another-object",
					"objectClass": "carTrail",
					"sid": 357901679277271,
					"parameters": {
						"object": "BottomBorder"
					}
				},
				{
					"id": "is-overlapping-another-object",
					"objectClass": "carTrail",
					"sid": 983087905805195,
					"parameters": {
						"object": "LeftBorder"
					}
				},
				{
					"id": "is-overlapping-another-object",
					"objectClass": "carTrail",
					"sid": 358554316834058,
					"parameters": {
						"object": "BottomLeft"
					}
				}
			],
			"actions": [
				{
					"id": "destroy",
					"objectClass": "carTrail",
					"sid": 977516749360915
				},
				{
					"callFunction": "backwardCarMovement",
					"sid": 519800608557334
				}
			],
			"sid": 516044054223111,
			"isOrBlock": true
		},
		{
			"eventType": "block",
			"conditions": [
				{
					"id": "is-overlapping-another-object",
					"objectClass": "BikeTrail",
					"sid": 970645085753549,
					"parameters": {
						"object": "TopBorder"
					}
				},
				{
					"id": "is-overlapping-another-object",
					"objectClass": "BikeTrail",
					"sid": 961227151521898,
					"parameters": {
						"object": "RightCorner"
					}
				},
				{
					"id": "is-overlapping-another-object",
					"objectClass": "BikeTrail",
					"sid": 840030774898784,
					"parameters": {
						"object": "RightBorder"
					}
				},
				{
					"id": "is-overlapping-another-object",
					"objectClass": "BikeTrail",
					"sid": 198110895792531,
					"parameters": {
						"object": "BottomBorder"
					}
				},
				{
					"id": "is-overlapping-another-object",
					"objectClass": "BikeTrail",
					"sid": 651029873524401,
					"parameters": {
						"object": "LeftBorder"
					}
				}
			],
			"actions": [
				{
					"id": "destroy",
					"objectClass": "BikeTrail",
					"sid": 461516522870662
				},
				{
					"callFunction": "backwardBikeMovement",
					"sid": 389987193788209
				}
			],
			"sid": 961620692996503,
			"isOrBlock": true
		},
		{
			"eventType": "comment",
			"text": "overlapping trails properties"
		},
		{
			"eventType": "block",
			"conditions": [
				{
					"id": "on-tap-object",
					"objectClass": "Touch",
					"sid": 964613877767127,
					"parameters": {
						"object": "BikeSwitch"
					}
				},
				{
					"id": "is-on-screen",
					"objectClass": "car",
					"sid": 507729392693530
				}
			],
			"actions": [
				{
					"id": "create-object",
					"objectClass": "System",
					"sid": 235179287451768,
					"parameters": {
						"object-to-create": "Bike",
						"layer": "7",
						"x": "car.X",
						"y": "car.Y",
						"create-hierarchy": false,
						"template-name": "\"\""
					}
				},
				{
					"id": "set-size",
					"objectClass": "Bike",
					"sid": 106087543684187,
					"parameters": {
						"width": "32",
						"height": "32"
					}
				},
				{
					"id": "set-eventvar-value",
					"objectClass": "System",
					"sid": 301808334370034,
					"parameters": {
						"variable": "prevCarX",
						"value": "car.X"
					}
				},
				{
					"id": "set-eventvar-value",
					"objectClass": "System",
					"sid": 140469492313757,
					"parameters": {
						"variable": "prevCarY",
						"value": "car.Y"
					}
				},
				{
					"id": "destroy",
					"objectClass": "car",
					"sid": 284129946649903
				}
			],
			"sid": 402205284135350
		},
		{
			"eventType": "block",
			"conditions": [
				{
					"id": "on-tap-object",
					"objectClass": "Touch",
					"sid": 482710616080034,
					"parameters": {
						"object": "CarSwitch"
					}
				},
				{
					"id": "is-on-screen",
					"objectClass": "Bike",
					"sid": 319020990870843
				}
			],
			"actions": [
				{
					"id": "create-object",
					"objectClass": "System",
					"sid": 861811350645414,
					"parameters": {
						"object-to-create": "car",
						"layer": "7",
						"x": "Bike.X",
						"y": "Bike.Y",
						"create-hierarchy": false,
						"template-name": "\"\""
					}
				},
				{
					"id": "set-size",
					"objectClass": "car",
					"sid": 997357681087028,
					"parameters": {
						"width": "32",
						"height": "32"
					}
				},
				{
					"id": "destroy",
					"objectClass": "Bike",
					"sid": 513568385537791
				}
			],
			"sid": 302441824478485
		},
		{
			"eventType": "block",
			"conditions": [
				{
					"id": "on-collision-with-another-object",
					"objectClass": "car",
					"sid": 733365033527759,
					"parameters": {
						"object": "BikePath"
					}
				}
			],
			"actions": [
				{
					"id": "drop",
					"objectClass": "car",
					"sid": 330427634028846,
					"behaviorType": "DragDrop"
				}
			],
			"sid": 996079999796884
		},
		{
			"eventType": "block",
			"conditions": [
				{
					"id": "is-overlapping-another-object",
					"objectClass": "car",
					"sid": 793480572932566,
					"parameters": {
						"object": "BikePath"
					}
				}
			],
			"actions": [
				{
					"id": "set-position",
					"objectClass": "car",
					"sid": 312192558487688,
					"parameters": {
						"x": "prevCarX",
						"y": "prevCarY"
					}
				}
			],
			"sid": 778991579919273,
			"children": [
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "is-overlapping-another-object",
							"objectClass": "BikeTrail",
							"sid": 642421430726808,
							"parameters": {
								"object": "BikePath"
							}
						}
					],
					"actions": [
						{
							"id": "destroy",
							"objectClass": "BikeTrail",
							"sid": 378750923726719
						},
						{
							"callFunction": "backwardBikeMovement",
							"sid": 128793700240245
						}
					],
					"sid": 932040549606658
				}
			]
		},
		{
			"eventType": "comment",
			"text": "function to create trail"
		},
		{
			"functionName": "makeCarTrail",
			"functionDescription": "",
			"functionCategory": "",
			"functionReturnType": "none",
			"functionCopyPicked": false,
			"functionIsAsync": false,
			"functionParameters": [],
			"eventType": "function-block",
			"conditions": [
				{
					"id": "is-overlapping-another-object",
					"objectClass": "car",
					"sid": 390226597929761,
					"parameters": {
						"object": "carTrail"
					},
					"isInverted": true
				}
			],
			"actions": [
				{
					"id": "create-object",
					"objectClass": "System",
					"sid": 218421975834909,
					"parameters": {
						"object-to-create": "carTrail",
						"layer": "6",
						"x": "round(car.X / 32) * 32",
						"y": "round(car.Y / 32) * 32",
						"create-hierarchy": false,
						"template-name": "\"\""
					}
				},
				{
					"id": "set-size",
					"objectClass": "carTrail",
					"sid": 514089870325157,
					"parameters": {
						"width": "30",
						"height": "30"
					}
				},
				{
					"callFunction": "addCarEmission",
					"sid": 744216321802128
				},
				{
					"callFunction": "forwardCarMovement",
					"sid": 315712358176237
				}
			],
			"sid": 876940245747510
		},
		{
			"functionName": "makeBikeTrail",
			"functionDescription": "",
			"functionCategory": "",
			"functionReturnType": "none",
			"functionCopyPicked": false,
			"functionIsAsync": false,
			"functionParameters": [],
			"eventType": "function-block",
			"conditions": [
				{
					"id": "is-overlapping-another-object",
					"objectClass": "Bike",
					"sid": 997694659215023,
					"parameters": {
						"object": "BikeTrail"
					},
					"isInverted": true
				}
			],
			"actions": [
				{
					"id": "create-object",
					"objectClass": "System",
					"sid": 874324457767155,
					"parameters": {
						"object-to-create": "BikeTrail",
						"layer": "6",
						"x": "round(Bike.X / 32) * 32",
						"y": "round(Bike.Y / 32) * 32",
						"create-hierarchy": false,
						"template-name": "\"\""
					}
				},
				{
					"id": "set-size",
					"objectClass": "BikeTrail",
					"sid": 146276385776523,
					"parameters": {
						"width": "30",
						"height": "30"
					}
				},
				{
					"callFunction": "setBikeEmission",
					"sid": 934360617593143
				},
				{
					"callFunction": "forwardBikeMovement",
					"sid": 948080045996626
				}
			],
			"sid": 420902046363191
		},
		{
			"eventType": "block",
			"conditions": [
				{
					"id": "every-tick",
					"objectClass": "System",
					"sid": 949803623888114
				}
			],
			"actions": [
				{
					"id": "set-text",
					"objectClass": "emissionText",
					"sid": 705930638134592,
					"parameters": {
						"text": "\"emissions used: \" & emissionTotal"
					}
				}
			],
			"sid": 969009149660907
		},
		{
			"eventType": "block",
			"conditions": [
				{
					"id": "every-tick",
					"objectClass": "System",
					"sid": 805079961991964
				}
			],
			"actions": [
				{
					"id": "set-text",
					"objectClass": "TimerText",
					"sid": 613588297522437,
					"parameters": {
						"text": "\"Current Time: \" & floor(timerTotal / 3600) & \"h \" & floor(timerTotal/ 60 % 60) & \"m \" & floor(timerTotal % 60) & \"s\""
					}
				}
			],
			"sid": 932388691363023
		}
	],
	"sid": 365148969480927
}